<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin - Dashboard Analytics</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="../assets/css/admin_style.css" />
    <style>
      .stat-card {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.5s ease-out, transform 0.5s ease-out;
      }
      .stat-card.animate-fade-in-up {
        opacity: 1;
        transform: translateY(0);
      }
      .notification-badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background-color: var(--danger);
        color: white;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        font-size: 0.7rem;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <div class="admin-wrapper">
      <div id="sidebar-container"></div>

      <div id="overlay"></div>

      <div class="main-content">
        <header class="content-header">
          <div class="header-welcome">
            <h2>Dashboard Analytics</h2>
            <p>Here's what's happening with your store today.</p>
          </div>
          <div class="header-actions d-flex align-items-center">
            <input
              type="text"
              class="form-control me-2"
              placeholder="Search..."
            />
            <button class="btn btn-light position-relative">
              <i class="fas fa-bell"></i>
              <span class="notification-badge">3</span>
            </button>
            <button class="btn btn-light">
              <i class="fas fa-user-circle"></i>
            </button>
          </div>
        </header>

        <div class="row g-4 mb-4">
          <div class="col-md-6 col-lg-3">
            <div class="stat-card">
              <div class="stat-card-icon icon-earnings">
                <i class="fas fa-dollar-sign"></i>
              </div>
              <p class="stat-card-title">Today's Sales</p>
              <h4 class="stat-card-value">Rp 1.250.000</h4>
              <div class="stat-card-change change-positive">
                <i class="fas fa-arrow-up me-1"></i> 12.5% from yesterday
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="stat-card">
              <div class="stat-card-icon icon-orders">
                <i class="fas fa-receipt"></i>
              </div>
              <p class="stat-card-title">Total Orders</p>
              <h4 class="stat-card-value">32</h4>
              <div class="stat-card-change change-positive">
                <i class="fas fa-arrow-up me-1"></i> 8.2% from yesterday
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="stat-card">
              <div class="stat-card-icon icon-visitors">
                <i class="fas fa-users"></i>
              </div>
              <p class="stat-card-title">Today's Visitors</p>
              <h4 class="stat-card-value">1,234</h4>
              <div class="stat-card-change change-negative">
                <i class="fas fa-arrow-down me-1"></i> 3.2% from yesterday
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="stat-card">
              <div class="stat-card-icon icon-sales">
                <i class="fas fa-chart-line"></i>
              </div>
              <p class="stat-card-title">Conversion Rate</p>
              <h4 class="stat-card-value">5.8%</h4>
              <div class="stat-card-change change-positive">
                <i class="fas fa-arrow-up me-1"></i> 1.2% from yesterday
              </div>
            </div>
          </div>

          <div class="col-md-6 col-lg-3">
            <div class="stat-card">
              <div class="stat-card-icon icon-customers">
                <i class="fas fa-user-friends"></i>
              </div>
              <p class="stat-card-title">New Customers</p>
              <h4 class="stat-card-value">24</h4>
              <div class="stat-card-change change-positive">
                <i class="fas fa-arrow-up me-1"></i> 15.8% from yesterday
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="stat-card">
              <div class="stat-card-icon icon-products">
                <i class="fas fa-box-open"></i>
              </div>
              <p class="stat-card-title">Products Sold</p>
              <h4 class="stat-card-value">78</h4>
              <div class="stat-card-change change-positive">
                <i class="fas fa-arrow-up me-1"></i> 9.6% from yesterday
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="stat-card">
              <div class="stat-card-icon icon-returns">
                <i class="fas fa-undo"></i>
              </div>
              <p class="stat-card-title">Return Rate</p>
              <h4 class="stat-card-value">2.3%</h4>
              <div class="stat-card-change change-negative">
                <i class="fas fa-arrow-up me-1"></i> 0.4% from yesterday
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="stat-card">
              <div class="stat-card-icon icon-profit">
                <i class="fas fa-money-bill-wave"></i>
              </div>
              <p class="stat-card-title">Profit Margin</p>
              <h4 class="stat-card-value">28.5%</h4>
              <div class="stat-card-change change-positive">
                <i class="fas fa-arrow-up me-1"></i> 2.1% from yesterday
              </div>
            </div>
          </div>
        </div>

        <div class="row g-4 mb-4">
  <div class="col-lg-8">
    <div class="dashboard-section">
      <div class="section-header">
        <h5><i class="fas fa-chart-line me-2 text-primary"></i>Sales Statistics</h5>
        <div class="btn-group btn-group-sm" role="group">
          <button type="button" class="btn btn-outline-primary active">Week</button>
          <button type="button" class="btn btn-outline-primary">Month</button>
          <button type="button" class="btn btn-outline-primary">Year</button>
        </div>
      </div>
      <div class="chart-container" style="height: 300px;">
        <canvas id="salesChart"></canvas>
      </div>
    </div>
  </div>

  <div class="col-lg-4">
    <div class="dashboard-section">
      <div class="section-header">
        <h5><i class="fas fa-bullseye me-2 text-info"></i>Traffic Sources</h5>
      </div>
      
      <ul class="list-unstyled traffic-sources-list">
        
        <li class="traffic-source-item">
          <div class="source-info">
            <i class="fab fa-google source-icon google"></i>
            <div>
              <div class="source-name">Google Search</div>
              <small class="text-muted">Direct Organic</small>
            </div>
          </div>
          <div class="source-value">1,234</div>
          <div class="progress" style="height: 6px;">
            <div class="progress-bar" role="progressbar" style="width: 45%;" aria-valuenow="45"></div>
          </div>
        </li>

        <li class="traffic-source-item">
          <div class="source-info">
            <i class="fab fa-instagram source-icon instagram"></i>
            <div>
              <div class="source-name">Instagram</div>
              <small class="text-muted">Social Media</small>
            </div>
          </div>
          <div class="source-value">876</div>
           <div class="progress" style="height: 6px;">
            <div class="progress-bar" role="progressbar" style="width: 30%;" aria-valuenow="30"></div>
          </div>
        </li>

        <li class="traffic-source-item">
          <div class="source-info">
            <i class="fas fa-envelope source-icon email"></i>
            <div>
              <div class="source-name">Email Campaign</div>
              <small class="text-muted">Marketing</small>
            </div>
          </div>
          <div class="source-value">543</div>
           <div class="progress" style="height: 6px;">
            <div class="progress-bar" role="progressbar" style="width: 15%;" aria-valuenow="15"></div>
          </div>
        </li>

         <li class="traffic-source-item">
          <div class="source-info">
            <i class="fas fa-link source-icon direct"></i>
            <div>
              <div class="source-name">Direct Visit</div>
              <small class="text-muted">Direct</small>
            </div>
          </div>
          <div class="source-value">321</div>
           <div class="progress" style="height: 6px;">
            <div class="progress-bar" role="progressbar" style="width: 10%;" aria-valuenow="10"></div>
          </div>
        </li>

      </ul>
    </div>
  </div>
</div>

        <div class="row g-4">
          <div class="col-lg-7">
            <div class="dashboard-section">
              <div class="section-header">
                <h5>Recent Activity</h5>
                <a href="transaksi.html" class="btn btn-sm btn-outline-primary"
                  >View All Orders</a
                >
              </div>

              <ul class="list-group list-group-flush activity-feed">
                <li class="list-group-item activity-item">
                  <div class="activity-avatar avatar-success">RP</div>
                  <div class="activity-content">
                    <p class="mb-0">
                      <strong>Revan Putra</strong> just completed an order
                      (#1253).
                    </p>
                    <small class="text-muted">Today, 10:42 AM</small>
                  </div>
                  <span class="badge bg-success-soft text-success ms-auto"
                    >Completed</span
                  >
                </li>

                <li class="list-group-item activity-item">
                  <div class="activity-avatar avatar-info">CL</div>
                  <div class="activity-content">
                    <p class="mb-0">
                      Order #1254 for <strong>Citra Lestari</strong> is out for
                      delivery.
                    </p>
                    <small class="text-muted">Today, 09:15 AM</small>
                  </div>
                  <span class="badge bg-info-soft text-info ms-auto"
                    >Shipped</span
                  >
                </li>

                <li class="list-group-item activity-item">
                  <div class="activity-avatar avatar-warning">AB</div>
                  <div class="activity-content">
                    <p class="mb-0">
                      <strong>Andi Budi</strong> has a pending payment for order
                      #1255.
                    </p>
                    <small class="text-muted">Yesterday, 08:30 PM</small>
                  </div>
                  <span class="badge bg-warning-soft text-warning ms-auto"
                    >Pending</span
                  >
                </li>

                <li class="list-group-item activity-item">
                  <div class="activity-avatar avatar-danger">AA</div>
                  <div class="activity-content">
                    <p class="mb-0">
                      Order #1256 from <strong>Arsya Aji</strong> has been
                      cancelled.
                    </p>
                    <small class="text-muted">Today, 11:30 AM</small>
                  </div>
                  <span class="badge bg-danger-soft text-danger ms-auto"
                    >Cancelled</span
                  >
                </li>

                <li class="list-group-item activity-item">
                  <div class="activity-avatar avatar-primary">S</div>
                  <div class="activity-content">
                    <p class="mb-0">
                      New order #1257 from <strong>Siska</strong> is now
                      processing.
                    </p>
                    <small class="text-muted">Today, 10:30 AM</small>
                  </div>
                  <span class="badge bg-primary-soft text-primary ms-auto"
                    >Processing</span
                  >
                </li>
              </ul>
            </div>
          </div>

          <div class="col-lg-5">
            <div class="dashboard-section">
              <div class="section-header">
                <h5>Top Selling Products</h5>
                <a href="products.html" class="btn btn-sm btn-outline-primary"
                  >View All</a
                >
              </div>

              <ul class="list-group list-group-flush top-products-list">
                <li class="list-group-item top-product-item">
                  <div class="product-rank gold">
                    <i class="fas fa-trophy"></i>
                  </div>
                  <img
                    src="https://images.unsplash.com/photo-1584589167171-541ce45f1eea?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                    class="product-avatar"
                    alt="Monstera"
                  />
                  <div class="product-info">
                    <h6 class="mb-0">Monstera Deliciosa</h6>
                    <small class="text-muted">Tanaman Hias</small>
                  </div>
                  <div class="product-sales">
                    <div class="fw-bold">Rp 150.000</div>
                    <small class="text-success">5k+ sold</small>
                  </div>
                </li>

                <li class="list-group-item top-product-item">
                  <div class="product-rank silver">
                    <i class="fas fa-medal"></i>
                  </div>
                  <img
                    src="https://plus.unsplash.com/premium_photo-1724249990837-f6dfcb7f3eaa?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                    class="product-avatar"
                    alt="Caladium"
                  />
                  <div class="product-info">
                    <h6 class="mb-0">Caladium Red Star</h6>
                    <small class="text-muted">Tanaman Hias</small>
                  </div>
                  <div class="product-sales">
                    <div class="fw-bold">Rp 75.000</div>
                    <small class="text-success">1.2k sold</small>
                  </div>
                </li>

                <li class="list-group-item top-product-item">
                  <div class="product-rank bronze">
                    <i class="fas fa-award"></i>
                  </div>
                  <img
                    src="https://images.unsplash.com/photo-1591656884447-8562e2373a66?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                    class="product-avatar"
                    alt="Ficus Elastica"
                  />
                  <div class="product-info">
                    <h6 class="mb-0">Ficus Elastica</h6>
                    <small class="text-muted">Tanaman Meja</small>
                  </div>
                  <div class="product-sales">
                    <div class="fw-bold">Rp 55.000</div>
                    <small class="text-success">2.1k sold</small>
                  </div>
                </li>
              </ul>
            </div>

            <div class="dashboard-section mt-4">
              <div class="section-header">
                <h5>Quick Stats</h5>
              </div>

              <div class="quick-stats-container">
                <div class="quick-stat-item">
                  <div class="stat-info">
                    <i class="fas fa-smile text-primary"></i>
                    <span class="stat-label">Customer Satisfaction</span>
                  </div>
                  <div class="stat-value">78%</div>
                  <div class="progress" style="height: 8px">
                    <div
                      class="progress-bar"
                      role="progressbar"
                      style="width: 78%"
                      aria-valuenow="78"
                      aria-valuemin="0"
                      aria-valuemax="100"
                    ></div>
                  </div>
                </div>

                <div class="quick-stat-item">
                  <div class="stat-info">
                    <i class="fas fa-clock text-info"></i>
                    <span class="stat-label">Avg. Response Time</span>
                  </div>
                  <div class="stat-value">32 min</div>
                  <div class="progress" style="height: 8px">
                    <div
                      class="progress-bar bg-info"
                      role="progressbar"
                      style="width: 60%"
                      aria-valuenow="60"
                      aria-valuemin="0"
                      aria-valuemax="100"
                    ></div>
                  </div>
                </div>

                <div class="quick-stat-item">
                  <div class="stat-info">
                    <i class="fas fa-check-circle text-success"></i>
                    <span class="stat-label">Delivery Success</span>
                  </div>
                  <div class="stat-value">92%</div>
                  <div class="progress" style="height: 8px">
                    <div
                      class="progress-bar bg-success"
                      role="progressbar"
                      style="width: 92%"
                      aria-valuenow="92"
                      aria-valuemin="0"
                      aria-valuemax="100"
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="../assets/js/admin_script.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      // Animasi untuk kartu statistik
      $(document).ready(function () {
        $(".stat-card").each(function (i) {
          $(this)
            .delay(100 * i)
            .queue(function () {
              $(this).addClass("animate-fade-in-up").dequeue();
            });
        });

        // Responsive sidebar toggle
        $("#sidebar-toggle").click(function () {
          $("#sidebar-container").toggleClass("show");
          $("#overlay").toggleClass("show");
        });

        $("#overlay").click(function () {
          $("#sidebar-container").removeClass("show");
          $("#overlay").removeClass("show");
        });
      });

      // Grafik penjualan
      document.addEventListener("DOMContentLoaded", () => {
        // Sales Chart
        const salesChartCanvas = document.getElementById("salesChart");
        if (salesChartCanvas) {
          const ctx = salesChartCanvas.getContext("2d");

          // Membuat gradient
          let gradient = ctx.createLinearGradient(0, 0, 0, 300);
          gradient.addColorStop(0, "rgba(67, 97, 238, 0.3)");
          gradient.addColorStop(0.7, "rgba(67, 97, 238, 0.1)");
          gradient.addColorStop(1, "rgba(67, 97, 238, 0)");

          let gradient2 = ctx.createLinearGradient(0, 0, 0, 300);
          gradient2.addColorStop(0, "rgba(247, 37, 133, 0.3)");
          gradient2.addColorStop(0.7, "rgba(247, 37, 133, 0.1)");
          gradient2.addColorStop(1, "rgba(247, 37, 133, 0)");

          new Chart(ctx, {
            type: "line",
            data: {
              labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
              datasets: [
                {
                  label: "Current Week",
                  data: [120, 190, 300, 500, 200, 350, 450],
                  borderColor: "#4361ee",
                  backgroundColor: gradient,
                  fill: true,
                  tension: 0.4,
                  borderWidth: 3,
                  pointBackgroundColor: "#fff",
                  pointBorderColor: "#4361ee",
                  pointBorderWidth: 3,
                  pointRadius: 5,
                  pointHoverRadius: 7,
                },
                {
                  label: "Previous Week",
                  data: [80, 150, 200, 300, 250, 400, 350],
                  borderColor: "#f72585",
                  backgroundColor: gradient2,
                  fill: true,
                  tension: 0.4,
                  borderWidth: 3,
                  pointBackgroundColor: "#fff",
                  pointBorderColor: "#f72585",
                  pointBorderWidth: 3,
                  pointRadius: 5,
                  pointHoverRadius: 7,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: {
                  display: true,
                  position: "top",
                  labels: {
                    usePointStyle: true,
                    padding: 20,
                  },
                },
                tooltip: {
                  backgroundColor: "#fff",
                  titleColor: "#212529",
                  bodyColor: "#212529",
                  borderColor: "#e9ecef",
                  borderWidth: 1,
                  padding: 12,
                  boxPadding: 6,
                  usePointStyle: true,
                  callbacks: {
                    label: function (context) {
                      return `Rp ${context.parsed.y.toLocaleString("id-ID")}`;
                    },
                  },
                },
              },
              scales: {
                y: {
                  grid: {
                    display: true,
                    color: "rgba(0, 0, 0, 0.05)",
                  },
                  ticks: {
                    display: true,
                    callback: function (value) {
                      return "Rp " + value.toLocaleString("id-ID");
                    },
                  },
                },
                x: {
                  grid: {
                    display: false,
                  },
                },
              },
              interaction: {
                intersect: false,
                mode: "index",
              },
            },
          });
        }

        // Traffic Sources Chart
        const trafficChartCanvas = document.getElementById("trafficChart");
        if (trafficChartCanvas) {
          const ctx = trafficChartCanvas.getContext("2d");

          new Chart(ctx, {
            type: "doughnut",
            data: {
              labels: ["Direct", "Social Media", "Email", "Search Engines"],
              datasets: [
                {
                  data: [40, 25, 15, 20],
                  backgroundColor: ["#4361ee", "#f72585", "#4cc9f0", "#3a0ca3"],
                  borderWidth: 0,
                  hoverOffset: 10,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              cutout: "70%",
              plugins: {
                legend: {
                  position: "bottom",
                  labels: {
                    usePointStyle: true,
                    padding: 20,
                  },
                },
              },
            },
          });
        }
      });
    </script>
  </body>
</html>
