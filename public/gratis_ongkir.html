<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gratis Ongkir</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../assets/css/nav_public.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <style>
      .cart-badge {
        font-size: 0.7rem;
        padding: 0.3em 0.5em;
      }
      @media (max-width: 991.98px) {
        .navbar .form-control {
          width: 100%;
          margin-bottom: 0.5rem;
        }
        .navbar .btn {
          width: 100%;
        }
        .navbar .navbar-nav {
          flex-direction: row;
          justify-content: flex-end;
          gap: 0.5rem;
        }
      }
      @media (max-width: 575.98px) {
        .navbar-brand {
          font-size: 1.1rem;
        }
        .navbar .form-control {
          font-size: 0.9rem;
        }
        .navbar .btn {
          font-size: 0.9rem;
        }
        .cart-badge {
          font-size: 0.6rem;
        }
      }
      .free-shipping-label {
        display: inline-block; /* Menggunakan inline-block agar rapi */
        background-color: #7fdb6a;
        color: #fff;
        padding: 2px 6px;
        font-size: 0.65em;
        font-weight: bold;
        border-radius: 4px;
        margin-top: 4px; /* Memberi jarak dari judul produk */
        text-shadow: 1px 1px 2px #333;
      }
    </style>
</head>
<body>
<div id="header-placeholder"></div>
    <div class="main-container">
        <h1 class="mb-4 fw-bold">PROMO GRATIS ONGKIR</h1>
        
       <div class="product-section bg-white rounded-3 p-3">
    <div class="section-header">
        <h4 class="section-title">PRODUK DENGAN GRATIS ONGKIR</h4>
        <a href="#" class="section-see-all">Lihat Semua <i class="fas fa-chevron-right"></i></a>
    </div>
    <div class="row g-3">
        <script>
            const produkGratisOngkir = [
                "Benih Kangkung", "Pupuk Organik Cair", "Pot Bunga Plastik", 
                "Spray Hama Alami", "Tanah Subur Siap Pakai", "Sarung Tangan Kebun",
                "Sekop Mini", "Benih Cabai", "Benih Selada", "Benih Tomat",
                "Obat Anti Layu Tanaman", "Buku Panduan Bertani", "Botol Semprot",
                "Benih Wortel", "Benih Sawi", "Alat Siram Otomatis",
                "Beras Organik 1kg", "Madu Murni", "Telur Ayam Kampung",
                "Tebu Organik", "Keranjang Panen", "Pembersih Daun",
                "Bibit Stroberi", "Bibit Anggur", "Benih Pakcoy",
                "Pot Gantung", "Penjepit Tanaman", "Media Tanam Hidroponik",
                "Pupuk Kompos", "Benih Jagung", "Benih Kacang Panjang",
                "Benih Timun", "Benih Bawang Merah", "Benih Bunga Matahari",
                "Pestisida Nabati", "Alat Tanam Benih", "Benih Padi",
                "Benih Singkong", "Benih Ubi Jalar", "Benih Jahe",
                "Benih Kunyit", "Benih Nanas", "Benih Mangga",
                "Benih Pepaya", "Benih Kacang Hijau", "Benih Kacang Tanah",
                "Benih Durian", "Bibit Pohon Rambutan", "Benih Jambu Air",
                "Benih Sawo"
            ];
            for (let i = 0; i < 50; i++) {
                const namaProduk = produkGratisOngkir[i % produkGratisOngkir.length];
                const harga = (Math.random() * 50000 + 5000).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ".");
                const terjual = Math.floor(Math.random() * 1000);

                document.write(`
                    <div class="col-6 col-md-4 col-lg-2">
                        <a href="#" class="product-card-link">
                            <div class="card h-100 product-card">
                                <div class="img-container">
                                    <img src="https://source.unsplash.com/random/300x200/?organic,farm,product,${i}" class="card-img-top" alt="${namaProduk}">
                                </div>
                                <div class="card-body">
                                    <p class="product-title">${namaProduk}</p>
                                    <span class="free-shipping-label">GRATIS ONGKIR</span>
                                    <div class="d-flex justify-content-between align-items-center mt-2">
                                        <p class="product-price mb-0">Rp${harga}</p>
                                        <p class="product-sold mb-0">${terjual}+ terjual</p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                `);
            }
        </script>
    </div>
</div>
    </div>
    <div id="chat-placeholder"></div>
  <script src="../../assets/js/public_app.js"></script>
    <script>
      async function loadHeader() {
    try {
      const response = await fetch("../../components/_navbar_public.html");
      if (response.ok) {
        const headerContent = await response.text();
        document.getElementById("header-placeholder").innerHTML = headerContent;
      } else {
        console.error(
          "Gagal memuat _navbar_public.html:",
          response.statusText
        );
      }
    } catch (error) {
      console.error("Error saat memuat file:", error);
    }
  }

  async function loadChatDropdown() {
    try {
      const response = await fetch("./chat.html");
      if (response.ok) {
        const chatContent = await response.text();
        document.getElementById("chat-placeholder").innerHTML = chatContent;

        // PANGGIL SKRIP CHAT DI SINI!
        const chatScript = document.createElement("script");
        chatScript.src = "../../assets/js/chat.js";
        document.body.appendChild(chatScript);

      } else {
        console.error("Gagal memuat chat.html:", response.statusText);
      }
    } catch (error) {
      console.error("Error saat memuat file:", error);
    }
  }
  document.addEventListener("DOMContentLoaded", function () {
    loadHeader();
    loadChatDropdown();
  });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/js/chat.js"></script>
    <script src="../../assets/js/public_app.js"></script>
  </body>
</html>