<style>
  :root {
    --primary: #235347;
    --primary-light: rgba(142, 182, 155, 0.15);
    --primary-dark: #0b2b26;
    --secondary: #163832;
    --text-primary: #051f20;
    --text-secondary: #5a7c6e;
    --text-light: #8eb69b;
    --background: #ffffff;
    --card-bg: #ffffff;
    --border-color: #e0eae5;
    --shadow: 0 4px 20px rgba(5, 31, 32, 0.08);
    --border-radius: 12px;
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Sidebar Base Styles */
  .sidebar {
    background: linear-gradient(180deg, var(--primary-dark) 0%, var(--primary) 100%);
    width: 280px;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    transition: var(--transition);
    box-shadow: var(--shadow);
    border-right: none;
  }

  .sidebar.collapsed {
    width: 80px;
    
  }

  .sidebar.open {
    transform: translateX(0);
  }

  /* Sidebar Header */
  .sidebar-header {
    padding: 24px 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    margin-bottom: 16px;
  }

  .sidebar-brand {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: white;
    font-weight: 700;
    font-size: 1.25rem;
    transition: var(--transition);
  }

  .sidebar-brand:hover {
    transform: translateY(-2px);
  }

  .sidebar-brand i {
    font-size: 1.5rem;
    margin-right: 15px;
    color: #8eb69b;
    transition: var(--transition);
  }

  .sidebar.collapsed .sidebar-brand i {
    margin-right: 0px;
    font-size: 1.75rem;
  }

  .sidebar-brand-text {
    transition: var(--transition);
    opacity: 1;
  }

  .sidebar.collapsed .sidebar-brand-text {
    opacity: 0;
    width: 0;
    overflow: hidden;
  }

  /* Sidebar Navigation */
  .sidebar-nav {
    flex: 1;
    padding: 0 16px;
    list-style: none;
    margin: 0;
    overflow-y: auto;
  }

  .sidebar-item {
    margin-bottom: 8px;
    position: relative;
  }

  .sidebar-link {
    display: flex;
    align-items: center;
    padding: 14px 16px;
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    border-radius: var(--border-radius);
    transition: var(--transition);
    position: relative;
    overflow: hidden;
  }

  .sidebar-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transition: left 0.5s;
  }

  .sidebar-link:hover::before {
    left: 100%;
  }

  .sidebar-link:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    transform: translateX(4px);
  }

  .sidebar-link.active {
    background: rgba(255, 255, 255, 0.15);
    color: white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  .sidebar-link.active::after {
    content: '';
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 60%;
    background: #8eb69b;
    border-radius: 4px 0 0 4px;
  }

  .sidebar-link i {
    font-size: 1.125rem;
    margin-right: 16px;
    width: 24px;
    text-align: center;
    transition: var(--transition);
  }

  .sidebar.collapsed .sidebar-link i {
    margin-right: 0;
  }

  .sidebar-link span {
    transition: var(--transition);
    opacity: 1;
    font-weight: 500;
  }


  .sidebar.collapsed #fasleaf {
    overflow: hidden;
  }

  .sidebar.collapsed .sidebar-link span {
    opacity: 0;
    width: 0;
    overflow: hidden;
  }

  /* Notification Badge */
  .notification-badge {
    background: #e74c3c;
    color: white;
    border-radius: 50px;
    padding: 4px 8px;
    font-size: 0.75rem;
    font-weight: 600;
    min-width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
    100% {
      transform: scale(1);
    }
  }

  .sidebar.collapsed .notification-badge {
    position: absolute;
    top: 8px;
    right: 8px;
    font-size: 0.6rem;
    padding: 2px 4px;
    min-width: 16px;
    height: 16px;
  }

  /* Sidebar Footer */
  .sidebar-footer {
    padding: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  .logout-link {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    color: rgba(255, 255, 255, 0.8);
    text-decoration: none;
    border-radius: var(--border-radius);
    transition: var(--transition);
    font-weight: 500;
  }

  .logout-link:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    transform: translateX(4px);
  }

  .logout-link i {
    font-size: 1.125rem;
    margin-right: 16px;
    width: 24px;
    text-align: center;
  }

  .sidebar.collapsed .logout-link i {
    margin-right: 0;
  }

  .logout-link span {
    transition: var(--transition);
    opacity: 1;
  }

  .sidebar.collapsed .logout-link span {
    opacity: 0;
    width: 0;
    overflow: hidden;
  }

  /* Overlay */
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999;
    opacity: 0;
    visibility: hidden;
    transition: var(--transition);
  }

  .overlay.active {
    opacity: 1;
    visibility: visible;
  }

  /* Hamburger Button */
  .sidebar-toggle {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 1100;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: var(--border-radius);
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: var(--transition);
    box-shadow: var(--shadow);
  }

  .sidebar-toggle:hover {
    background: var(--primary-dark);
    transform: scale(1.05);
  }

  .sidebar-toggle i {
    font-size: 1.25rem;
    transition: var(--transition);
  }

  .sidebar.collapsed ~ .sidebar-toggle i {
    transform: rotate(180deg);
  }

  /* Desktop Toggle Button */
  .sidebar-toggle-desktop {
    position: absolute;
    top: 24px;
    right: -12px;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: var(--transition);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    z-index: 1001;
  }

  .sidebar-toggle-desktop:hover {
    background: var(--primary-dark);
    transform: scale(1.1);
  }

  .sidebar-toggle-desktop i {
    font-size: 0.75rem;
    transition: var(--transition);
  }

  .sidebar.collapsed .sidebar-toggle-desktop i {
    transform: rotate(180deg);
  }

  /* Scrollbar Styling */
  .sidebar-nav::-webkit-scrollbar {
    width: 4px;
  }

  .sidebar-nav::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
  }

  .sidebar-nav::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
  }

  .sidebar-nav::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  /* Mobile Responsive */
  @media (max-width: 992px) {
    .sidebar {
      transform: translateX(-100%);
    }

    .sidebar.open {
      transform: translateX(0);
    }

    .sidebar-toggle-desktop {
      display: none;
    }

     #fasleaf {
        margin-left: 0 !important;
    }
    .sidebar-header {
      justify-content: flex-start;
    }
  }

  /* Tooltip for collapsed state */
  .sidebar.collapsed .sidebar-link:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    background: var(--primary-dark);
    color: white;
    padding: 8px 12px;
    border-radius: var(--border-radius);
    font-size: 0.875rem;
    white-space: nowrap;
    margin-left: 8px;
    z-index: 1001;
    box-shadow: var(--shadow);
  }

  .sidebar.collapsed .logout-link:hover::after {
    content: "Logout";
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    background: var(--primary-dark);
    color: white;
    padding: 8px 12px;
    border-radius: var(--border-radius);
    font-size: 0.875rem;
    white-space: nowrap;
    margin-left: 8px;
    z-index: 1001;
    box-shadow: var(--shadow);
  }

  #fasleaf {
    margin-left: 60px;
  }
</style>

<div class="overlay" id="overlay"></div>

<!-- Sidebar Toggle Button -->
<div class="sidebar-toggle hamburger-btn" id="sidebarToggle">
  <i class="fas fa-bars"></i>
</div>

<!-- Desktop Toggle Button -->
<button class="sidebar-toggle-desktop" id="sidebarToggleDesktop" hidden>
  <i class="fas fa-chevron-left"></i>
</button>

<!-- Sidebar -->
<nav class="sidebar" id="sidebar">
  <div class="sidebar-header" >
    <a href="admin.html" class="sidebar-brand">
      <i class="fas fa-leaf" id="fasleaf"></i>
      <span class="sidebar-brand-text">SmartFarm</span>
    </a>
  </div>
  
  <ul class="sidebar-nav">
    <li class="sidebar-item" data-page="index.html">
      <a href="index.html" class="sidebar-link" data-tooltip="Dashboard">
        <i class="fas fa-tachometer-alt"></i><span>Dashboard</span>
      </a>
    </li>
    <li class="sidebar-item" data-page="analytic.html">
      <a href="analytic.html" class="sidebar-link" data-tooltip="Analytic">
        <i class="fas fa-chart-line"></i><span>Analytic</span>
      </a>
    </li>
    <li class="sidebar-item" data-page="products.html">
      <a href="products.html" class="sidebar-link" data-tooltip="Master Products">
        <i class="fas fa-box"></i><span> Master Products</span>
      </a>
    </li>
    <li class="sidebar-item" data-page="orders.html">
      <a href="orders.html" class="sidebar-link" data-tooltip="Master Orders">
        <i class="fas fa-shopping-cart"></i><span>Master Orders</span>
      </a>
    </li>
    <li class="sidebar-item" data-page="notif.html">
      <a href="notif.html" class="sidebar-link" data-tooltip="Notification">
        <i class="fas fa-bell"></i>
        <span>Notification</span>
        <span class="notification-badge ms-auto">4</span>
      </a>
    </li>
    <li class="sidebar-item" data-page="customers.html">
      <a href="customers.html" class="sidebar-link" data-tooltip="Customers">
        <i class="fas fa-users"></i><span>Customers</span>
      </a>
    </li>
    <li class="sidebar-item" data-page="store.html">
      <a href="store.html" class="sidebar-link" data-tooltip="Settings">
        <i class="fas fa-cog"></i><span>Settings</span>
      </a>
    </li>
  </ul>
  
  <div class="sidebar-footer">
    <a href="../public/login.html" class="logout-link">
      <i class="fas fa-sign-out-alt"></i><span>Logout</span>
    </a>
  </div>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Elements
    const sidebar = document.getElementById("sidebar");
    const sidebarToggle = document.getElementById("sidebarToggle");
    const sidebarToggleDesktop = document.getElementById("sidebarToggleDesktop");
    const overlay = document.getElementById("overlay");
    const mainContent = document.getElementById("mainContent");

    // Toggle sidebar visibility
    function toggleSidebar(e) {
      if (e) e.stopPropagation();

      const isMobile = window.innerWidth < 993;

      if (isMobile) {
        sidebar.classList.toggle("open");
        overlay.classList.toggle("active");
        document.body.style.overflow = sidebar.classList.contains("open")
          ? "hidden"
          : "";
      } else {
        sidebar.classList.toggle("collapsed");
        if (mainContent) {
          mainContent.classList.toggle("expanded");
        }
      }
    }

    // Initialize sidebar state
    function initSidebar() {
      const isMobile = window.innerWidth < 993;

      if (isMobile) {
        sidebar.classList.remove("collapsed", "open");
        overlay.classList.remove("active");
        document.body.style.overflow = "";
      } else {
        sidebar.classList.remove("open");
        overlay.classList.remove("active");
      }
    }

    // Set active nav item based on current page
    function setActivePage() {
      const currentPage =
        window.location.pathname.split("/").pop() || "admin.html";
      const navItems = document.querySelectorAll(".sidebar-item");

      navItems.forEach((item) => {
        const link = item.querySelector(".sidebar-link");
        if (link) {
          link.classList.remove("active");
          if (item.getAttribute("data-page") === currentPage) {
            link.classList.add("active");
          }
        }
      });
    }

    // Close sidebar when clicking on overlay
    function closeSidebar() {
      sidebar.classList.remove("open");
      overlay.classList.remove("active");
      document.body.style.overflow = "";
    }

    // Event Listeners
    sidebarToggle.addEventListener("click", toggleSidebar);
    if (sidebarToggleDesktop) {
      sidebarToggleDesktop.addEventListener("click", function(e) {
        toggleSidebar(e);
        // Sembunyikan tombol jika sidebar sudah collapsed
        setTimeout(() => {
          if (sidebar.classList.contains('collapsed')) {
            sidebarToggleDesktop.setAttribute('hidden', '');
          } else {
            sidebarToggleDesktop.removeAttribute('hidden');
          }
        }, 300);
      });
    }
    
    // Tampilkan/hide tombol saat resize atau init
    function updateDesktopToggleBtn() {
      if (window.innerWidth >= 993) {
        if (sidebar.classList.contains('collapsed')) {
          sidebarToggleDesktop.setAttribute('hidden', '');
        } else {
          sidebarToggleDesktop.removeAttribute('hidden');
        }
      } else {
        sidebarToggleDesktop.removeAttribute('hidden');
      }
    }
    
    window.addEventListener('resize', updateDesktopToggleBtn);
    updateDesktopToggleBtn();
    
    overlay.addEventListener("click", closeSidebar);

    // Close sidebar when clicking on a link (mobile only)
    const sidebarLinks = document.querySelectorAll(
      ".sidebar-link, .logout-link"
    );
    sidebarLinks.forEach((link) => {
      link.addEventListener("click", function () {
        if (window.innerWidth < 993) {
          closeSidebar();
        }
      });
    });

    // Close sidebar when pressing Escape key
    document.addEventListener("keydown", function (e) {
      if (e.key === "Escape" && sidebar.classList.contains("open")) {
        closeSidebar();
      }
    });

    // Reinitialize on window resize
    window.addEventListener("resize", initSidebar);

    // Initialize
    setActivePage();
    initSidebar();
  });
</script>